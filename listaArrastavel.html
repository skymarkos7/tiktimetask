<head>
  <!-- Outros elementos do cabeçalho -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sortablejs@1.10.2/Sortable.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.10.2/Sortable.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
</head>

<div class="container">
  <table id="sortable-table">
    <thead>
      <tr>
        <th></th>
        <th>Ação</th>
        <th>Descrição</th>
        <th>Tempo</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="drag-handle">&#9776;</td>
        <td><i class="fa fa-play" onclick="startTimer(this)"></i></td>
        <td>Descrição 1</td>
        <td>00:00</td>
      </tr>
      <tr>
        <td class="drag-handle">&#9776;</td>
        <td><i class="fa fa-play" onclick="startTimer(this)"></i></td>
        <td>Descrição 2</td>
        <td>00:00</td>
      </tr>
      <!-- Adicione mais linhas conforme necessário -->
    </tbody>
  </table>
</div>

<script>
  const sortableTable = Sortable.create(document.getElementById('sortable-table').getElementsByTagName('tbody')[0], {
    handle: '.drag-handle',
    animation: 150
  });

  function startTimer(icon) {
    const row = icon.parentNode.parentNode;
    const tempoCell = row.cells[3];
    let tempo = tempoCell.innerText;
    let [minutes, seconds] = tempo.split(':');
    minutes = parseInt(minutes);
    seconds = parseInt(seconds);

    const intervalId = setInterval(() => {
      seconds++;
      if (seconds === 60) {
        seconds = 0;
        minutes++;
      }
      tempo = `${padZero(minutes)}:${padZero(seconds)}`;
      tempoCell.innerText = tempo;
    }, 1000);

    // Armazena o intervalId para poder parar o contador posteriormente
    row.dataset.intervalId = intervalId.toString();

    // Altera o ícone para o ícone de pausa
    icon.classList.remove('fa-play');
    icon.classList.add('fa-pause');
    icon.onclick = function() {
      pauseTimer(this);
    };
  }

  function pauseTimer(icon) {
    const row = icon.parentNode.parentNode;
    const intervalId = parseInt(row.dataset.intervalId);

    clearInterval(intervalId);

    // Altera o ícone para o ícone de play
    icon.classList.remove('fa-pause');
    icon.classList.add('fa-play');
    icon.onclick = function() {
      startTimer(this);
    };
  }

  function padZero(num) {
    return num.toString().padStart(2, '0');
  }
</script>

<style>
  .container {
    max-width: 500px;
    margin: 0 auto;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th,
  td {
    padding: 8px;
    border-bottom: 1px solid #ddd;
    text-align: left;
  }

  .drag-handle {
    cursor: move;
  }
</style>
